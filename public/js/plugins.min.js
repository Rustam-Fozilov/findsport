!function(f){var g,t={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},m=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],v=f('<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>').data("autosize",!0)[0];(v.style.lineHeight="99px")===f(v).css("lineHeight")&&m.push("lineHeight"),v.style.lineHeight="",f.fn.autosize=function(p){return this.length?(p=f.extend({},t,p||{}),v.parentNode!==document.body&&f(document.body).append(v),this.each(function(){var n,s,t,o=this,a=f(o),r=0,l=f.isFunction(p.callback),e={height:o.style.height,overflow:o.style.overflow,overflowY:o.style.overflowY,wordWrap:o.style.wordWrap,resize:o.style.resize},i=a.width(),h=a.css("resize");function d(){var i,n=!!window.getComputedStyle&&window.getComputedStyle(o,null);n?(0!==(i=o.getBoundingClientRect().width)&&"number"==typeof i||(i=parseInt(n.width,10)),f.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(t,e){i-=parseInt(n[e],10)})):i=a.width(),v.style.width=Math.max(i,0)+"px"}function c(){var t,e,i;g!==o?(i={},g=o,v.className=p.className,v.id=p.id,n=parseInt(a.css("maxHeight"),10),f.each(m,function(t,e){i[e]=a.css(e)}),f(v).css(i).attr("wrap",a.attr("wrap")),d(),window.chrome&&(e=o.style.width,o.style.width="0px",o.offsetWidth,o.style.width=e)):d(),!o.value&&p.placeholder?v.value=(a.attr("placeholder")||"")+p.append:v.value=o.value+p.append,v.style.overflowY=o.style.overflowY,t=parseInt(o.style.height,10),v.scrollTop=0,v.scrollTop=9e4,e=v.scrollTop,n&&n<e?(o.style.overflowY="scroll",e=n):(o.style.overflowY="hidden",e<s&&(e=s)),t!==(e+=r)&&(o.style.height=e+"px",l&&p.callback.call(o,o))}function u(){clearTimeout(t),t=setTimeout(function(){var t=a.width();t!==i&&(i=t,c())},parseInt(p.resizeDelay,10))}a.data("autosize")||(a.data("autosize",!0),"border-box"!==a.css("box-sizing")&&"border-box"!==a.css("-moz-box-sizing")&&"border-box"!==a.css("-webkit-box-sizing")||(r=a.outerHeight()-a.height()),s=Math.max(parseInt(a.css("minHeight"),10)-r||0,a.height()),a.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===h?a.css("resize","none"):"both"===h&&a.css("resize","horizontal"),"onpropertychange"in o?"oninput"in o?a.on("input.autosize keyup.autosize",c):a.on("propertychange.autosize",function(){"value"===event.propertyName&&c()}):a.on("input.autosize",c),!1!==p.resizeDelay&&f(window).on("resize.autosize",u),a.on("autosize.resize",c),a.on("autosize.resizeIncludeStyle",function(){g=null,c()}),a.on("autosize.destroy",function(){g=null,clearTimeout(t),f(window).off("resize",u),a.off("autosize").off(".autosize").css(e).removeData("autosize")}),c())})):this}}(window.jQuery||window.$),function(o,a,r){function e(t,i){i=i||t+r;var n=o(),e=t+"."+i+"-special-event";function s(e){o(n).each(function(){var t=o(this);this===e.target||t.has(e.target).length||t.triggerHandler(i,[e.target])})}o.event.special[i]={setup:function(){1===(n=n.add(this)).length&&o(a).bind(e,s)},teardown:function(){0===(n=n.not(this)).length&&o(a).unbind(e)},add:function(t){var i=t.handler;t.handler=function(t,e){t.target=e,i.apply(this,arguments)}}}}o.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup".split(" "),function(t){e(t)}),e("focusin","focus"+r),e("focusout","blur"+r),o.addOutsideEvent=e}(jQuery,document,"outside"),function(a,l){function h(t){return void 0!==t&&null!=t}var t,e=!1;a.XMLHttpRequest&&(t=new XMLHttpRequest,e=h(t.upload)),l.extend(l.support,{fileSelecting:h(a.File)&&h(a.FileList),fileReading:h(a.FileReader),fileSending:h(a.FormData),uploadControl:e});function d(t){return t instanceof File||t instanceof Blob}function n(t){var e="text/plain";if("data:"==(t=h(t.toString)?t.toString():""+t).substr(0,5)){var i=t.split(","),n=(0<=i[0].indexOf("base64")?atob:unescape)(i[1]),e=i[0].split(":")[1].split(";")[0];t=new ArrayBuffer(n.length);for(var s=new Uint8Array(t),o=0;o<n.length;o++)s[o]=n.charCodeAt(o)}return function(t,e){if(a.Blob)return new Blob([t],{type:e});t=a.MSBlobBuilder||a.MozBlobBuilder||a.WebKitBlobBuilder||a.BlobBuilder;return t?(new t).append(ab).getBlob(e):null}(t,e)}var s=function(t,e){return e=e||"",0==(t=parseInt(t))||isNaN(t)?e:e+String.fromCharCode(Math.floor(26*Math.random())+97)+s(--t)};l.fn.damnUploader=function(t){if(0==this.length)return this;if(1<this.length)return this.each(function(){l(this).damnUploader(t)});var o=this;o._duSettings=l.extend({url:"/upload.php",multiple:!0,fieldName:"file",dropping:!0,dropBox:!1,limit:!1,dataType:"text"},t||{}),o._duSettings.multiple||(o._duSettings.limit=1);function i(t,e,i){this.file=t,this.fieldName=null,this.replaceName=null,this.progressCallback=i,this.completeCallback=e,this.xhr=null,this.cancelled=!1,this.started=!1,this.completed=!1,this._id=s(7),this._post=[]}l.extend(i.prototype,{id:function(){return this._id},addPostData:function(t,e){var i=this;l.isArray(t)?l.each(t,function(t,e){i.addPostData(e.name,e.value)}):this._post.push({name:t,value:e})},upload:function(){o._duUploadItem(this)},cancel:function(){o.duCancel(this._id)},getReaderCallback:function(t){var e;return l.support.fileReading&&((e=new FileReader).onload=t),e},readAs:function(t,e){t="readAs"+t,e=this.getReaderCallback(e);e&&e[t]&&e[t].call(e,this.file)}}),o._duQueue={},o._duItemsCount=0;var a=o._duQueue,r=o._duSettings;o._duAddItemsToQueue=function(t){var e=l.Event("du.add"),i=l.Event("du.limit");if(o._duItemsCount===r.limit)return o.trigger(i),!1;if(t instanceof FileList){var n=[];return l.each(t,function(t,e){n.push(o._duAddItemsToQueue(e))}),n}if(!1===(t=o.duNewUploadItem(t)))return!1;if(e.uploadItem=t,o.trigger(e),e.isDefaultPrevented())return!1;e=t.id();return o._duItemsCount++,a[e]=t},o._duUploadItem=function(i){if(!l.support.fileSending||!d(i.file))return!1;var t,e,n,s,o,a;i.started||(i.started=!0,t=new XMLHttpRequest,e=0,n=!1,s=l.isFunction(i.progressCallback),t.upload?(t.upload.addEventListener("progress",function(t){t.lengthComputable&&(e=100*t.loaded/t.total,s&&i.progressCallback.call(i,Math.round(e)))},!1),t.upload.addEventListener("load",function(t){e=100,n=!0},!1)):n=!0,t.onreadystatechange=function(){var t,e=l.isFunction(i.completeCallback);4==this.readyState&&(i.completed=!0,this.status<400?n?(l.isFunction(i.progressCallback)&&i.progressCallback.call(i,100),t="json"==r.dataType?l.parseJSON(this.responseText):this.responseText,e&&i.completeCallback.call(i,!0,t)):e&&i.completeCallback.call(i,!1,null,0):e&&i.completeCallback.call(i,!1,null,this.status))},o=i.replaceName||i.file.name,t.open("POST",r.url),(a=new FormData).append(i.fieldName||r.fieldName||"file",i.file,o),0<i._post.length&&l.each(i._post,function(t,e){a.append(e.name,e.value)}),t.send(a),i.xhr=t)};var e="INPUT"==o.get(0).tagName&&"file"==this.attr("type");return e&&o.prop("multiple",r.multiple).on("change",function(){o._duAddItemsToQueue(this.files)}),r.dropping&&(o.on("drop",function(t){return o._duAddItemsToQueue(t.originalEvent.dataTransfer.files),!1}),r.dropBox&&l(r.dropBox).on("drop",function(t){return o._duAddItemsToQueue(t.originalEvent.dataTransfer.files),!1})),o.duStart=function(){return r.url&&l.each(a,function(n,t){var s=t.completeCallback;t.completeCallback=function(t,e,i){this.cancelled||(delete a[n],o._duItemsCount--),l.isFunction(s)&&s.call(this,t,e,i),0==o._duItemsCount&&o.trigger("du.completed")},o._duUploadItem(t)}),o},o.duCancel=function(t){return t&&0<o._duItemsCount&&h(a[t])&&(a[t].xhr&&(a[t].cancelled=!0,a[t].xhr.abort()),delete a[t],o._duItemsCount--),o},o.duCancelAll=function(){return e&&o.val(""),l.each(a,function(t,e){o.duCancel(t)}),o},o.duNewUploadItem=function(t){switch(!0){case t instanceof i:return t;case d(t):return new i(t);default:var e=n(t);return!1!==e&&o.duNewUploadItem(e)}},o.duEnqueue=function(t){return o._duAddItemsToQueue(t)},o.duGetQueue=function(){return o._duQueue},o.duCount=function(){return o._duItemsCount},o.duOption=function(t,e){if(l.isPlainObject(t))l.each(t,function(t,e){o.duOption(t,e)});else{if(void 0===e)return o._duSettings[t];-1<l.inArray(t,["url","fieldName","limit","dataType"])&&(o._duSettings[t]=e)}return o},o}}(window,window.jQuery),function(g){var d;function c(t,e,i,n,s){var o=t[0];if(!o)return!1;var a=b(o),r=-1!==a.indexOf(" ")?" ":"　",l="letter"==n.wrap?"":r,h=a.split(l),d=-1,c=-1,u=0,p=h.length-1;for(n.fallbackToLetter&&0==u&&0==p&&(l="",p=(h=a.split(l)).length-1);u<=p&&(0!=u||0!=p);){var f=Math.floor((u+p)/2);if(f==c)break;c=f,y(o,h.slice(0,c+1).join(l)+n.ellipsis),i.children().each(function(){g(this).toggle().toggle()}),m(i,n)?(p=c,n.fallbackToLetter&&0==u&&0==p&&(l="",c=d=-1,p=(h=h[u=0].split(l)).length-1)):u=d=c}return-1==d||1==h.length&&0==h[0].length?(r=t.parent(),t.detach(),t=s&&s.closest(r).length?s.length:0,r.contents().length>t?o=w(r.contents().eq(-1-t),e):(o=w(r,e,!0),t||r.detach()),o&&(y(o,a=v(b(o),n)),t&&s&&g(o).parent().append(s))):y(o,a=v(h.slice(0,d+1).join(l),n)),!0}function m(t,e){return t.innerHeight()>e.maxHeight}function v(t,e){for(;-1<g.inArray(t.slice(-1),e.lastCharacter.remove);)t=t.slice(0,-1);return g.inArray(t.slice(-1),e.lastCharacter.noEllipsis)<0&&(t+=e.ellipsis),t}function u(t){return{width:t.innerWidth(),height:t.innerHeight()}}function y(t,e){t.innerText?t.innerText=e:t.nodeValue?t.nodeValue=e:t.textContent&&(t.textContent=e)}function b(t){return t.innerText||t.nodeValue||t.textContent||""}function o(t){for(;t=t.previousSibling,t&&1!==t.nodeType&&3!==t.nodeType;);return t}function w(t,e,i){var n,s=t&&t[0];if(s){if(!i){if(3===s.nodeType)return s;if(g.trim(t.text()))return w(t.contents().last(),e)}for(n=o(s);!n;){if((t=t.parent()).is(e)||!t.length)return!1;n=o(t[0])}if(n)return w(g(n),e)}return!1}g.fn.dotdotdot||(g.fn.dotdotdot=function(t){if(0==this.length)return g.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(1<this.length)return this.each(function(){g(this).dotdotdot(t)});var n=this;n.data("dotdotdot")&&n.trigger("destroy.dot"),n.data("dotdotdot-style",n.attr("style")||""),n.css("word-wrap","break-word"),"nowrap"===n.css("white-space")&&n.css("white-space","normal"),n.bind_events=function(){return n.bind("update.dot",function(t,e){switch(n.removeClass("is-truncated"),t.preventDefault(),t.stopPropagation(),typeof o.height){case"number":o.maxHeight=o.height;break;case"function":o.maxHeight=o.height.call(n[0]);break;default:o.maxHeight=function(t){for(var e=t.innerHeight(),i=["paddingTop","paddingBottom"],n=0,s=i.length;n<s;n++){var o=parseInt(t.css(i[n]),10);isNaN(o)&&(o=0),e-=o}return e}(n)}o.maxHeight+=o.tolerance,void 0!==e&&(("string"==typeof e||"nodeType"in e&&1===e.nodeType)&&(e=g("<div />").append(e).contents()),e instanceof g&&(s=e)),(h=n.wrapInner('<div class="dotdotdot" />').children()).contents().detach().end().append(s.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});t=!1,e=!1;return a.afterElement&&((t=a.afterElement.clone(!0)).show(),a.afterElement.detach()),m(h,o)&&(e="children"==o.wrap?function(t,e,i){var n=t.children(),s=!1;t.empty();for(var o=0,a=n.length;o<a;o++){var r=n.eq(o);if(t.append(r),i&&t.append(i),m(t,e)){r.remove(),s=!0;break}i&&i.detach()}return s}(h,o,t):function e(i,n,s,o,a){var r=!1;i.contents().detach().each(function(){var t=g(this);if(void 0===this)return!0;if(t.is("script, .dotdotdot-keep"))i.append(t);else{if(r)return!0;i.append(t),!a||t.is(o.after)||t.find(o.after).length||i[i.is("a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style")?"after":"append"](a),m(s,o)&&(r=(3==this.nodeType?c:e)(t,n,s,o,a)),r||a&&a.detach()}});n.addClass("is-truncated");return r}(h,n,h,o,t)),h.replaceWith(h.contents()),h=null,g.isFunction(o.callback)&&o.callback.call(n[0],e,s),a.isTruncated=e}).bind("isTruncated.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(n[0],a.isTruncated),a.isTruncated}).bind("originalContent.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(n[0],s),s}).bind("destroy.dot",function(t){t.preventDefault(),t.stopPropagation(),n.unwatch().unbind_events().contents().detach().end().append(s).attr("style",n.data("dotdotdot-style")||"").data("dotdotdot",!1)}),n},n.unbind_events=function(){return n.unbind(".dot"),n},n.watch=function(){var t,e,i;return n.unwatch(),"window"==o.watch?(t=g(window),e=t.width(),i=t.height(),t.bind("resize.dot"+a.dotId,function(){e==t.width()&&i==t.height()&&o.windowResizeFix||(e=t.width(),i=t.height(),l&&clearInterval(l),l=setTimeout(function(){n.trigger("update.dot")},100))})):(r=u(n),l=setInterval(function(){var t;n.is(":visible")&&(t=u(n),r.width==t.width&&r.height==t.height||(n.trigger("update.dot"),r=t))},500)),n},n.unwatch=function(){return g(window).unbind("resize.dot"+a.dotId),l&&clearInterval(l),n};var e,i,s=n.contents(),o=g.extend(!0,{},g.fn.dotdotdot.defaults,t),a={},r={},l=null,h=null;return o.lastCharacter.remove instanceof Array||(o.lastCharacter.remove=g.fn.dotdotdot.defaultArrays.lastCharacter.remove),o.lastCharacter.noEllipsis instanceof Array||(o.lastCharacter.noEllipsis=g.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),a.afterElement=(e=o.after,i=n,!!e&&("string"!=typeof e?!!e.jquery&&e:!!(e=g(e,i)).length&&e)),a.isTruncated=!1,a.dotId=d++,n.data("dotdotdot",!0).bind_events().trigger("update.dot"),o.watch&&n.watch(),n},g.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},g.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},g.fn.dotdotdot.debug=function(t){},d=1)}(jQuery),function(){var e={after:".-js-read-more-toggler",afterElement:'<a class="-new-link -js-read-more-toggler">Читать далее</a>',fullClass:"-show-full-text"};$.fn.dotdotdot.defaultArrays.lastCharacter.remove.push("\n","\r","<br>"),dotdotdotCustom=function(t,n){n=$.extend({},e,n),$(t).each(function(){var e=$(this),i=$("<div />").html(e.html());n.afterElement&&e.append(n.afterElement),e.dotdotdot(n),n.after&&(e.hasClass("is-truncated")?(i.find(n.after).remove(),e.one("click",n.after,function(t){t.preventDefault(),e.html(i.html()),n.fullClass&&e.addClass(n.fullClass)})):e.find(n.after).remove())})}}(),function(t,e){var d=t(e),i={gap:0,horizontal:!1,isFixed:t.noop};t.fn.fixer=function(r){var l=(r=t.extend({},i,r)).horizontal,h=l?"left":"top";return this.each(function(){var s=this.style,o=t(this),a=t(t(this).parents(r.parentSelector)[0]);!function(t){for(var e,i=["","-webkit-","-moz-","-ms-","-o-"];e=i.pop();)if(t.style.cssText="position:"+e+"sticky",""!==t.style.position)return!0;return!1}(this)?d.on("scroll",function(){var t=d[l?"scrollLeft":"scrollTop"](),e=o[l?"outerWidth":"outerHeight"](),i=a.offset()[h],n=a[l?"outerWidth":"outerHeight"]();t>=i-r.gap&&n+i-r.gap>=t+e?(s.position="fixed",s[h]=r.gap+"px",r.isFixed()):t<i?(s.position="absolute",s[h]=0):(s.position="absolute",s[h]=n-e+"px")}).resize():s[h]=r.gap+"px"})}}(jQuery,this),function(o,a,i,r){var l=o(a);o.fn.lazyload=function(t){var n=this,s={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:a,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};function e(){var e=0;n.each(function(){var t=o(this);if((!s.skip_invisible||t.is(":visible"))&&!o.abovethetop(this,s)&&!o.leftofbegin(this,s))if(o.belowthefold(this,s)||o.rightoffold(this,s)){if(++e>s.failure_limit)return!1}else t.trigger("appear"),e=0})}return t&&(r!==t.failurelimit&&(t.failure_limit=t.failurelimit,delete t.failurelimit),r!==t.effectspeed&&(t.effect_speed=t.effectspeed,delete t.effectspeed),o.extend(s,t)),t=s.container===r||s.container===a?l:o(s.container),0===s.event.indexOf("scroll")&&t.bind(s.event,e),this.each(function(){var e=this,i=o(e);e.loaded=!1,i.attr("src")!==r&&!1!==i.attr("src")||i.is("img")&&i.attr("src",s.placeholder),i.one("appear",function(){var t;this.loaded||(s.appear&&(t=n.length,s.appear.call(e,t,s)),o("<img />").bind("load",function(){var t=i.attr("data-"+s.data_attribute);i.hide(),i.is("img")?i.attr("src",t):i.css("background-image","url('"+t+"')"),i[s.effect](s.effect_speed),e.loaded=!0;t=o.grep(n,function(t){return!t.loaded});n=o(t),s.load&&(t=n.length,s.load.call(e,t,s))}).attr("src",i.attr("data-"+s.data_attribute)))}),0!==s.event.indexOf("scroll")&&i.bind(s.event,function(){e.loaded||i.trigger("appear")})}),l.bind("resize",function(){e()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&l.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&n.each(function(){o(this).trigger("appear")})}),o(i).ready(function(){e()}),this},o.belowthefold=function(t,e){var i=e.container===r||e.container===a?(a.innerHeight||l.height())+l.scrollTop():o(e.container).offset().top+o(e.container).height();return i<=o(t).offset().top-e.threshold},o.rightoffold=function(t,e){var i=e.container===r||e.container===a?l.width()+l.scrollLeft():o(e.container).offset().left+o(e.container).width();return i<=o(t).offset().left-e.threshold},o.abovethetop=function(t,e){var i=e.container===r||e.container===a?l.scrollTop():o(e.container).offset().top;return i>=o(t).offset().top+e.threshold+o(t).height()},o.leftofbegin=function(t,e){var i=e.container===r||e.container===a?l.scrollLeft():o(e.container).offset().left;return i>=o(t).offset().left+e.threshold+o(t).width()},o.inviewport=function(t,e){return!(o.rightoffold(t,e)||o.leftofbegin(t,e)||o.belowthefold(t,e)||o.abovethetop(t,e))},o.extend(o.expr[":"],{"below-the-fold":function(t){return o.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!o.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return o.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!o.rightoffold(t,{threshold:0})},"in-viewport":function(t){return o.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!o.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return o.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!o.rightoffold(t,{threshold:0})}})}(jQuery,window,document),function(n){var v,t,e,y=(t=document.createElement("input"),e="onpaste",t.setAttribute(e,""),("function"==typeof t[e]?"paste":"input")+".mask"),i=navigator.userAgent,b=/iphone/i.test(i),w=/android/i.test(i);n.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},n.fn.extend({caret:function(t,e){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof t?(e="number"==typeof e?e:t,this.each(function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&((i=this.createTextRange()).collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),i.select())})):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),t=0-i.duplicate().moveStart("character",-1e5),e=t+i.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(e,u){var i,p,f,g,m;return!e&&0<this.length?n(this[0]).data(n.mask.dataName)():(u=n.extend({placeholder:n.mask.placeholder,completed:null},u),i=n.mask.definitions,p=[],f=m=e.length,g=null,n.each(e.split(""),function(t,e){"?"==e?(m--,f=t):i[e]?(p.push(new RegExp(i[e])),null===g&&(g=p.length-1)):p.push(null)}),this.trigger("unmask").each(function(){var o=n(this),a=n.map(e.split(""),function(t,e){if("?"!=t)return i[t]?u.placeholder:t}),s=o.val();function r(t){for(;++t<m&&!p[t];);return t}function l(t,e){var i,n;if(!(t<0)){for(i=t,n=r(e);i<m;i++)if(p[i]){if(!(n<m&&p[i].test(a[n])))break;a[i]=a[n],a[n]=u.placeholder,n=r(n)}d(),o.caret(Math.max(g,t))}}function h(t,e){for(var i=t;i<e&&i<m;i++)p[i]&&(a[i]=u.placeholder)}function d(){o.val(a.join(""))}function c(t){var e,i=o.val(),n=-1,s=0;for(pos=0;s<m;s++)if(p[s]){for(a[s]=u.placeholder;pos++<i.length;)if(e=i.charAt(pos-1),p[s].test(e)){a[s]=e,n=s;break}if(pos>i.length)break}else a[s]===i.charAt(pos)&&s!==f&&(pos++,n=s);return t?d():n+1<f?(o.val(""),h(0,m)):(d(),o.val(o.val().substring(0,n+1))),f?s:g}o.data(n.mask.dataName,function(){return n.map(a,function(t,e){return p[e]&&t!=u.placeholder?t:null}).join("")}),o.attr("readonly")||o.one("unmask",function(){o.unbind(".mask").removeData(n.mask.dataName)}).bind("focus.mask",function(){var t;clearTimeout(v),s=o.val(),t=c(),v=setTimeout(function(){d(),t==e.length?o.caret(0,t):o.caret(t)},10)}).bind("blur.mask",function(){c(),o.val()!=s&&o.change()}).bind("keydown.mask",function(t){var e,i,n=t.which;8===n||46===n||b&&127===n?(e=(i=o.caret()).begin,(i=i.end)-e==0&&(e=46!==n?function(t){for(;0<=--t&&!p[t];);return t}(e):i=r(e-1),i=46===n?r(i):i),h(e,i),l(e,i-1),t.preventDefault()):27==n&&(o.val(s),o.caret(0,c()),t.preventDefault())}).bind("keypress.mask",function(t){var e=t.which,i=o.caret();t.ctrlKey||t.altKey||t.metaKey||e<32||e&&(i.end-i.begin!=0&&(h(i.begin,i.end),l(i.begin,i.end-1)),(i=r(i.begin-1))<m&&(e=String.fromCharCode(e),p[i].test(e)&&(function(t){for(var e,i,n=t,s=u.placeholder;n<m;n++)if(p[n]){if(e=r(n),i=a[n],a[n]=s,!(e<m&&p[e].test(i)))break;s=i}}(i),a[i]=e,d(),i=r(i),w?setTimeout(n.proxy(n.fn.caret,o,i),0):o.caret(i),u.completed&&m<=i&&u.completed.call(o))),t.preventDefault())}).bind(y,function(){setTimeout(function(){var t=c(!0);o.caret(t),u.completed&&t==o.val().length&&u.completed.call(o)},0)}),c()}))}})}(jQuery),function(t,e,a){var i,n="[object OperaMini]"==Object.prototype.toString.call(t.operamini),s="placeholder"in e.createElement("input")&&!n,o="placeholder"in e.createElement("textarea")&&!n,r=a.fn,l=a.valHooks,n=a.propHooks;function h(t,e){var i=this,n=a(i);if(i.value==n.attr("placeholder")&&n.hasClass("placeholder"))if(n.data("placeholder-password")){if(n=n.hide().next().show().attr("id",n.removeAttr("id").data("placeholder-id")),!0===t)return n[0].value=e;n.focus()}else i.value="",n.removeClass("placeholder"),i==c()&&i.select()}function d(){var e,i,n,s,t=a(this),o=this.id;if(""==this.value){if("password"==this.type){if(!t.data("placeholder-textinput")){try{e=t.clone().attr({type:"text"})}catch(t){e=a("<input>").attr(a.extend((i=this,n={},s=/^jQuery\d+$/,a.each(i.attributes,function(t,e){e.specified&&!s.test(e.name)&&(n[e.name]=e.value)}),n),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":t,"placeholder-id":o}).bind("focus.placeholder",h),t.data({"placeholder-textinput":e,"placeholder-id":o}).before(e)}t=t.removeAttr("id").hide().prev().attr("id",o).show()}t.addClass("placeholder"),t[0].value=t.attr("placeholder")}else t.removeClass("placeholder")}function c(){try{return e.activeElement}catch(t){}}s&&o?(i=r.placeholder=function(){return this}).input=i.textarea=!0:((i=r.placeholder=function(){return this.filter((s?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":h,"blur.placeholder":d}).data("placeholder-enabled",!0).trigger("blur.placeholder"),this}).input=s,i.textarea=o,i={get:function(t){var e=a(t),i=e.data("placeholder-password");return i?i[0].value:e.data("placeholder-enabled")&&e.hasClass("placeholder")?"":t.value},set:function(t,e){var i=a(t),n=i.data("placeholder-password");return n?n[0].value=e:i.data("placeholder-enabled")?(""==e?(t.value=e,t!=c()&&d.call(t)):i.hasClass("placeholder")&&h.call(t,!0,e)||(t.value=e),i):t.value=e}},s||(l.input=i,n.value=i),o||(l.textarea=i,n.value=i),a(function(){a(e).delegate("form","submit.placeholder",function(){var t=a(".placeholder",this).each(h);setTimeout(function(){t.each(d)},10)})}),a(t).bind("beforeunload.placeholder",function(){a(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(k){"use strict";var F="tinyscrollbar",T={axis:"y",wheel:!0,wheelSpeed:40,wheelLock:!0,scrollInvert:!1,trackSize:!1,thumbSize:!1};function e(i,t){this.options=k.extend({},T,t),this._defaults=T,this._name=F;var n=this,e=i.find(".viewport"),s=i.find(".overview"),o=i.find(".scrollbar"),a=o.find(".track"),r=o.find(".thumb"),l=i.find(".scrollbtn"),h=0,d="x"===this.options.axis,c="ontouchstart"in document.documentElement,u="onwheel"in document||9<=document.documentMode?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",p=d?"width":"height",f=d?"left":"top";function g(){r.css(f,n.contentPosition/n.trackRatio),s.css(f,-n.contentPosition),o.css(p,n.trackSize),a.css(p,n.trackSize),r.css(p,n.thumbSize)}function m(t){k("body").addClass("noSelect"),h=d?t.pageX:t.pageY,n.thumbPosition=parseInt(r.css(f),10)||0,c?(document.ontouchmove=function(t){t.preventDefault(),y(t.touches[0])},document.ontouchend=b):(k(document).bind("mousemove",y),k(document).bind("mouseup",b),r.bind("mouseup",b)),i.trigger("move.start."+F)}function v(t){var e;n.contentRatio<1&&(t=-((e=t||window.event)["delta"+n.options.axis.toUpperCase()]||e.detail||-1/3*e.wheelDelta)/40,n.contentPosition-=t*n.options.wheelSpeed,n.contentPosition=Math.min(n.contentSize-n.viewportSize,Math.max(0,n.contentPosition)),i.trigger("move."+F),r.css(f,n.contentPosition/n.trackRatio),s.css(f,-n.contentPosition),(n.options.wheelLock||n.contentPosition!==n.contentSize-n.viewportSize&&0!==n.contentPosition)&&(e=k.event.fix(e)).preventDefault())}function y(t){var e;n.contentRatio<1&&(t=(e=d?t.pageX:t.pageY)-h,n.options.scrollInvert&&c&&(t=h-e),t=Math.min(n.trackSize-n.thumbSize,Math.max(0,n.thumbPosition+t)),n.contentPosition=t*n.trackRatio,i.trigger("move."+F),r.css(f,t),s.css(f,-n.contentPosition))}function b(){k("body").removeClass("noSelect"),k(document).unbind("mousemove",y),k(document).unbind("mouseup",b),r.unbind("mouseup",b),document.ontouchmove=document.ontouchend=null,i.trigger("move.end."+F)}function w(t){var e;t.preventDefault(),clearInterval(n.scrollingInterval),n.isScrollable&&(e=k(this).hasClass("scroll-end")?1:-1,n.scrollingInterval=setInterval(function(){var t=n.contentPosition+10*e;n.scrollTo(t)},30))}function D(t){t.preventDefault(),clearInterval(n.scrollingInterval)}function C(t){t.preventDefault()}return this.contentPosition=0,this.contentPositionMin=0,this.contentPositionMax=0,this.viewportSize=0,this.contentSize=0,this.contentRatio=0,this.trackSize=0,this.trackRatio=0,this.thumbSize=0,this.thumbPosition=0,this.isScrollable=!1,this.refresh=function(){var t=p.charAt(0).toUpperCase()+p.slice(1).toLowerCase();return this.viewportSize=e[0]["offset"+t],this.contentSize=s[0]["scroll"+t],this.contentRatio=this.contentSize&&this.viewportSize/this.contentSize||0,this.trackSize=this.options.trackSize||this.viewportSize,this.thumbSize=Math.min(this.trackSize,Math.max(0,this.options.thumbSize||this.trackSize*this.contentRatio)),this.trackRatio=this.options.thumbSize?(this.contentSize-this.viewportSize)/(this.trackSize-this.thumbSize):this.contentSize/this.trackSize,this.isScrollable=this.contentRatio<1,this.isScrollable?(this.contentPositionMax=this.contentSize-this.viewportSize,this.contentPosition=Math.min(this.contentPositionMax,Math.max(0,this.contentPosition))):(this.contentPositionMax=0,this.contentPosition=0),g(),i.toggleClass("scrollable",this.isScrollable),i.trigger("refresh."+F),n},this.scrollTo=function(t,e){void 0===e&&(e=0);t=parseInt(t,10);return e&&(t=this.contentPosition+e*t),t<this.contentPositionMin?t=this.contentPositionMin:t>this.contentPositionMax&&(t=this.contentPositionMax),this.contentPosition!=t&&(this.contentPosition=t,g(),i.trigger("scrollto."+F)),n},this.scrollToElement=function(t,e){if(t){t=t;t instanceof k&&(t=t[0]);var i=d?t.offsetLeft:t.offsetTop;if(e){var n=d?t.offsetWidth:t.offsetHeight;switch(e){case"center":i-=Math.round((this.viewportSize-n)/2);break;case"end":i-=this.viewportSize-n}}this.scrollTo(i)}},n.refresh(),function(){c?e[0].ontouchstart=function(t){1===t.touches.length&&(t.stopPropagation(),m(t.touches[0]))}:(r.bind("mousedown",m),a.bind("mousedown",y));l.on("mousedown",w).on("mouseup",D).on("click",C),n.options.wheel&&window.addEventListener?i[0].addEventListener(u,v,!1):n.options.wheel&&(i[0].onmousewheel=v);k(window).resize(function(){n.refresh()})}(),n}k.fn[F]=function(t){return this.each(function(){k.data(this,F)||k.data(this,F,new e(k(this),t))})}}),function(r){var t=r(window),e={_i:[],add:function(t){t._observed||(t._observed=!0,this._i.push(t))},remove:function(t){!t._observed||-1!=(t=this._i.indexOf(t))&&this._i.splice(t,1)}};function n(){return{left:t.scrollLeft(),top:t.scrollTop()}}function i(t,e){this.$el=r(t),this.el=this.$el.get(0),this.initialize(e)}i.prototype={_settings:null,initialize:function(t){this.options=r.extend({},this.DEFAULTS,t),this.$related=this.options.related?r(this.options.related):this._findRelated(),this._updateSettings(),this.enable()},check:function(){return!(!this.$el.length||!this.$related.length)},enable:function(){return!!this.check()&&(e.add(this),this.updatePosition(),!0)},disable:function(){e.remove(this),this.$el.css({position:"",top:"",left:""})},destroy:function(){this.disable(),this.$el.data("trueFixer",null)},setOptions:function(t){r.extend(this.options,t),this._updateSettings(),this.updatePosition()},updatePosition:function(){return this._updatePosition(n())},_updateSettings:function(){var t=this.options.horizontal?"left":"top",e=this.options.horizontal?"outerWidth":"outerHeight",i="current"==this.options.startOffset?this.$el.offset()[t]-this.$related.offset()[t]:this.options.startOffset;this._settings={position:t,sizeMethod:e,startOffset:i,gap:this.options.gap}},_updatePosition:function(t){var e=this._settings,i=this.el.style,n=this.$el[e.sizeMethod](),s=this.$related[e.sizeMethod](),o=this.$related.offset()[e.position],t=t[e.position];return t<o+e.startOffset-e.gap?(i.position="absolute",i[e.position]=e.startOffset+"px",-1):t<o+s-(n+e.gap)?(i.position="fixed",i[e.position]=e.gap+"px",0):(i.position="absolute",i[e.position]=s-n+"px",1)},_findRelated:function(){return this.$el.parents().filter(function(){return r.inArray(this.style.position,["absolute","fixed","related"])}).first()}};var l=r.fn.trueFixer=function(i){var n="string"==typeof i,s=n&&i,o=n&&[].concat(arguments).slice(1),a=(i=!n&&i||{}).Handler||l.Handler;return this.each(function(){var t=r(this),e=t.data("trueFixer");e||t.data("trueFixer",e=new a(this,i)),n&&"function"==typeof e[s]&&e[s].apply(e,o)}),this};l.Handler=i,l.DEFAULTS=i.prototype.DEFAULTS={startOffset:0,gap:0,related:null,horizontal:!1};var s=l.updatePositions=function(){var i=n();r.each(e._i,function(t,e){e._updatePosition(i)})};t.on("scroll",function(){e._i.length&&s()})}(jQuery),function(n){"use strict";n.fn.emulateTransitionEnd=function(t){var e=!1,i=this;n(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||n(i).trigger(n.support.transition.end)},t),this},n(function(){n.support.transition=function(){var t,e=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in i)if(void 0!==e.style[t])return{end:i[t]};return!1}(),n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(o){"use strict";var s=function(t,e){this.$element=o(t),this.options=o.extend({},s.DEFAULTS,e),this.isLoading=!1};function i(n){return this.each(function(){var t=o(this),e=t.data("bs.button"),i="object"==typeof n&&n;e||t.data("bs.button",e=new s(this,i)),"toggle"==n?e.toggle():n&&e.setState(n)})}s.VERSION="3.3.6",s.DEFAULTS={loadingText:"loading..."},s.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.is("input")?"val":"html",s=i.data();t+="Text",null==s.resetText&&i.data("resetText",i[n]()),setTimeout(o.proxy(function(){i[n]((null==s[t]?this.options:s)[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(e).attr(e,e)):this.isLoading&&(this.isLoading=!1,i.removeClass(e).removeAttr(e))},this),0)},s.prototype.toggle=function(){var t,e=!0,i=this.$element.closest('[data-toggle="buttons"]');i.length?("radio"==(t=this.$element.find("input")).prop("type")?(t.prop("checked")&&(e=!1),i.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==t.prop("type")&&(t.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),t.prop("checked",this.$element.hasClass("active")),e&&t.trigger("change")):(this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active"))};var t=o.fn.button;o.fn.button=i,o.fn.button.Constructor=s,o.fn.button.noConflict=function(){return o.fn.button=t,this},o(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=o(t.target);e.hasClass("btn")||(e=e.closest(".btn")),i.call(e,"toggle"),o(t.target).is('input[type="radio"]')||o(t.target).is('input[type="checkbox"]')||t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){o(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(o){"use strict";function n(t){o(t).on("click",e,this.close)}var e='[data-dismiss="alert"]';n.prototype.close=function(t){var e=o(this),i=(i=e.attr("data-target"))||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""),n=o(i);function s(){n.trigger("closed.bs.alert").remove()}t&&t.preventDefault(),n.length||(n=e.hasClass("alert")?e:e.parent()),n.trigger(t=o.Event("close.bs.alert")),t.isDefaultPrevented()||(n.removeClass("in"),o.support.transition&&n.hasClass("fade")?n.one(o.support.transition.end,s).emulateTransitionEnd(150):s())};var t=o.fn.alert;o.fn.alert=function(i){return this.each(function(){var t=o(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new n(this)),"string"==typeof i&&e[i].call(t)})},o.fn.alert.Constructor=n,o.fn.alert.noConflict=function(){return o.fn.alert=t,this},o(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),function(n){function e(t,e){var i;return this.$element=n(t),this.$note=n('<div class="alert"></div>'),this.options=n.extend(!0,{},n.fn.notify.defaults,e),this.options.transition?("fade"===this.options.transition?this.$note.addClass("in"):this.$note).addClass(this.options.transition):this.$note.addClass("fade").addClass("in"),this.options.type?this.$note.addClass("alert-"+this.options.type):this.$note.addClass("alert-success"),this.options.message||""===this.$element.data("message")?"object"==typeof this.options.message&&(this.options.message.html?this.$note.html(this.options.message.html):this.options.message.text?this.$note.text(this.options.message.text):this.$note.html(this.options.message)):this.$note.html(this.$element.data("message")),this.options.closable&&(this.$note.addClass("alert-dismissable"),i=n('<a class="close pull-right" href="#">&times;</a>')),n(i).on("click",n.proxy(s,this)),this.$note.prepend(i),this}var s=function(){return this.options.onClose(),n(this.$note).remove(),this.options.onClosed(),!1};e.prototype.show=function(){this.options.fadeOut.enabled&&this.$note.delay(this.options.fadeOut.delay||3e3).fadeOut("slow",n.proxy(s,this)),this.$element.append(this.$note),this.$note.alert()},e.prototype.hide=function(){this.options.fadeOut.enabled?this.$note.delay(this.options.fadeOut.delay||3e3).fadeOut("slow",n.proxy(s,this)):s.call(this)},n.fn.notify=function(t){return new e(this,t)},n.fn.notify.defaults={closable:!0,fadeOut:{enabled:!0,delay:3e3},message:null,transition:"fade",type:"success",onClose:function(){},onClosed:function(){}}}(window.jQuery),function(o){"use strict";function a(t,e){this.options=e,this.$body=o(document.body),this.$element=o(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,o.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}function s(n,s){return this.each(function(){var t=o(this),e=t.data("bs.modal"),i=o.extend({},a.DEFAULTS,t.data(),"object"==typeof n&&n);e||t.data("bs.modal",e=new a(this,i)),"string"==typeof n?e[n](s):i.show&&e.show(s)})}a.VERSION="3.3.5",a.TRANSITION_DURATION=300,a.BACKDROP_TRANSITION_DURATION=150,a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},a.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},a.prototype.show=function(i){var n=this,t=o.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',o.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){o(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=o.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),t&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var e=o.Event("shown.bs.modal",{relatedTarget:i});t?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(a.TRANSITION_DURATION):n.$element.trigger("focus").trigger(e)}))},a.prototype.hide=function(t){t&&t.preventDefault(),t=o.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),o(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),o.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",o.proxy(this.hideModal,this)).emulateTransitionEnd(a.TRANSITION_DURATION):this.hideModal())},a.prototype.enforceFocus=function(){o(document).off("focusin.bs.modal").on("focusin.bs.modal",o.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",o.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},a.prototype.resize=function(){this.isShown?o(window).on("resize.bs.modal",o.proxy(this.handleUpdate,this)):o(window).off("resize.bs.modal")},a.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(t){var e,i=this,n=this.$element.hasClass("fade")?"fade":"";this.isShown&&this.options.backdrop?(e=o.support.transition&&n,this.$backdrop=o(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",o.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),t&&(e?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):t())):!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e=function(){i.removeBackdrop(),t&&t()},o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):e()):t&&t()},a.prototype.handleUpdate=function(){this.adjustDialog()},a.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},a.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},a.prototype.checkScrollbar=function(){var t,e=window.innerWidth;e||(e=(t=document.documentElement.getBoundingClientRect()).right-Math.abs(t.left)),this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},a.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},a.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},a.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=o.fn.modal;o.fn.modal=s,o.fn.modal.Constructor=a,o.fn.modal.noConflict=function(){return o.fn.modal=t,this},o(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=o(this),i=e.attr("href"),n=o(e.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),i=n.data("bs.modal")?"toggle":o.extend({remote:!/#/.test(i)&&i},n.data(),e.data());e.is("a")&&t.preventDefault(),n.one("show.bs.modal",function(t){t.isDefaultPrevented()||n.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),s.call(n,i,this)})}(jQuery),function(s){"use strict";function n(t){s(t).on("click.bs.dropdown",this.toggle)}var o="[data-toggle=dropdown]";function a(i){s(".dropdown-backdrop").remove(),s(o).each(function(){var t=r(s(this)),e={relatedTarget:this};t.hasClass("open")&&(t.trigger(i=s.Event("hide.bs.dropdown",e)),i.isDefaultPrevented()||t.removeClass("open").trigger("hidden.bs.dropdown",e))})}function r(t){var e=t.attr("data-target"),e=(e=e||(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""))&&s(e);return e&&e.length?e:t.parent()}n.prototype.toggle=function(t){var e=s(this);if(!e.is(".disabled, :disabled")){var i=r(e),n=i.hasClass("open");if(a(),n)e.blur();else{"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&s('<div class="dropdown-backdrop"/>').insertAfter(s(this)).on("click",a);n={relatedTarget:this};if(i.trigger(t=s.Event("show.bs.dropdown",n)),t.isDefaultPrevented())return;i.toggleClass("open").trigger("shown.bs.dropdown",n),e.focus()}return!1}},n.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var e=s(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var i=r(e),n=i.hasClass("open");if(!n||n&&27==t.keyCode)return 27==t.which&&i.find(o).focus(),e.click();e=" li:not(.divider):visible a",i=i.find("[role=menu]"+e+", [role=listbox]"+e);i.length&&(e=i.index(i.filter(":focus")),38==t.keyCode&&0<e&&e--,40==t.keyCode&&e<i.length-1&&e++,~e||(e=0),i.eq(e).focus())}}};var t=s.fn.dropdown;s.fn.dropdown=function(i){return this.each(function(){var t=s(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new n(this)),"string"==typeof i&&e[i].call(t)})},s.fn.dropdown.Constructor=n,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=t,this},s(document).on("click.bs.dropdown.data-api",a).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,n.prototype.toggle).on("keydown.bs.dropdown.data-api",o+", [role=menu], [role=listbox]",n.prototype.keydown)}(jQuery),function(l,h){var d=l();l.fn.dropdownHover=function(r){return"ontouchstart"in document?this:(d=d.add(this.parent()),this.each(function(){var t,e=l(this),i=e.parent(),n={delay:l(this).data("delay"),instantlyCloseOthers:l(this).data("close-others")},s="show.bs.dropdown",o=l.extend(!0,{},{delay:500,instantlyCloseOthers:!0},r,n);function a(){d.find(":focus").blur(),!0===o.instantlyCloseOthers&&d.removeClass("open"),h.clearTimeout(t),i.addClass("open"),e.trigger(s)}i.hover(function(t){return!i.hasClass("open")&&!e.is(t.target)||void a()},function(){t=h.setTimeout(function(){i.removeClass("open"),e.trigger("hide.bs.dropdown")},o.delay)}),e.hover(function(t){return!i.hasClass("open")&&!i.is(t.target)||void a()}),i.find(".dropdown-submenu").each(function(){var e,i=l(this);i.hover(function(){h.clearTimeout(e),i.children(".dropdown-menu").show(),i.siblings().children(".dropdown-menu").hide()},function(){var t=i.children(".dropdown-menu");e=h.setTimeout(function(){t.hide()},o.delay)})})}))},l(document).ready(function(){l('[data-hover="dropdown"]').dropdownHover()})}(jQuery,this),function(d){"use strict";function s(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)}s.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},s.prototype.init=function(t,e,i){this.enabled=!0,this.type=t,this.$element=d(e),this.options=this.getOptions(i);for(var n=this.options.trigger.split(" "),s=n.length;s--;){var o,a=n[s];"click"==a?this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this)):"manual"!=a&&(o="hover"==a?"mouseenter":"focus",a="hover"==a?"mouseleave":"blur",this.$element.on(o+"."+this.type,this.options.selector,d.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,d.proxy(this.leave,this)))}this.options.selector?this._options=d.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},s.prototype.getDefaults=function(){return s.DEFAULTS},s.prototype.getOptions=function(t){return(t=d.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},s.prototype.getDelegateOptions=function(){var i={},n=this.getDefaults();return this._options&&d.each(this._options,function(t,e){n[t]!=e&&(i[t]=e)}),i},s.prototype.enter=function(t){var e=t instanceof this.constructor?t:d(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)},s.prototype.leave=function(t){var e=t instanceof this.constructor?t:d(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)},s.prototype.show=function(){var t,e,i,n,s,o,a,r,l,h=d.Event("show.bs."+this.type);this.hasContent()&&this.enabled&&(this.$element.trigger(h),h.isDefaultPrevented()||(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),r="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,(o=(s=/\s?auto?\s?/i).test(r))&&(r=r.replace(s,"")||"top"),t.detach().css({top:0,left:0,display:"block"}).addClass(r),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),e=this.getPosition(),i=t[0].offsetWidth,l=t[0].offsetHeight,o&&(a=this.$element.parent(),n=r,h=document.documentElement.scrollTop||document.body.scrollTop,s="body"==this.options.container?window.innerWidth:a.outerWidth(),o="body"==this.options.container?window.innerHeight:a.outerHeight(),a="body"==this.options.container?0:a.offset().left,r="bottom"==r&&e.top+e.height+l-h>o?"top":"top"==r&&e.top-h-l<0?"bottom":"right"==r&&e.right+i>s?"left":"left"==r&&e.left-i<a?"right":r,t.removeClass(n).addClass(r)),l=this.getCalculatedOffset(r,e,i,l),this.applyPlacement(l,r),this.hoverState=null,this.$element.trigger("shown.bs."+this.type)))},s.prototype.applyPlacement=function(t,e){var i,n=this.tip(),s=n[0].offsetWidth,o=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),r=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),t.top=t.top+a,t.left=t.left+r,n.offset(t).addClass("in");a=n[0].offsetWidth,r=n[0].offsetHeight;"top"==e&&r!=o&&(i=!0,t.top=t.top+o-r),/bottom|top/.test(e)?(e=0,t.left<0&&(e=-2*t.left,t.left=0,n.offset(t),a=n[0].offsetWidth,r=n[0].offsetHeight),this.replaceArrow(e-s+a,a,"left")):this.replaceArrow(r-o,r,"top"),i&&n.offset(t)},s.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},s.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},s.prototype.hide=function(){var t=this,e=this.tip(),i=d.Event("hide.bs."+this.type);function n(){"in"!=t.hoverState&&e.detach()}if(this.$element.trigger(i),!i.isDefaultPrevented())return e.removeClass("in"),d.support.transition&&this.$tip.hasClass("fade")?e.one(d.support.transition.end,n).emulateTransitionEnd(150):n(),this.hoverState=null,this.$element.trigger("hidden.bs."+this.type),this},s.prototype.fixTitle=function(){var t=this.$element;!t.attr("title")&&"string"==typeof t.attr("data-original-title")||t.attr("data-original-title",t.attr("title")||"").attr("title","")},s.prototype.hasContent=function(){return this.getTitle()},s.prototype.getPosition=function(){var t=this.$element[0];return d.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},s.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},s.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},s.prototype.tip=function(){return this.$tip=this.$tip||d(this.options.template)},s.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},s.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},s.prototype.enable=function(){this.enabled=!0},s.prototype.disable=function(){this.enabled=!1},s.prototype.toggleEnabled=function(){this.enabled=!this.enabled},s.prototype.toggle=function(t){t=t?d(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;t.tip().hasClass("in")?t.leave(t):t.enter(t)},s.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var t=d.fn.tooltip;d.fn.tooltip=function(n){return this.each(function(){var t=d(this),e=t.data("bs.tooltip"),i="object"==typeof n&&n;e||t.data("bs.tooltip",e=new s(this,i)),"string"==typeof n&&e[n]()})},d.fn.tooltip.Constructor=s,d.fn.tooltip.noConflict=function(){return d.fn.tooltip=t,this}}(jQuery),function(y,b){var c=y(window);function w(){return new Date(Date.UTC.apply(Date,arguments))}function r(){var t=new Date;return w(t.getFullYear(),t.getMonth(),t.getDate())}function t(t){return function(){return this[t].apply(this,arguments)}}function D(t,e){this.dates=new i,this.viewDate=r(),this.focusDate=null,this._process_options(e),this.element=y(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=y(k.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()}var e,i=(e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,n=this.length;i<n;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(t){t&&(y.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.splice(0)},copy:function(){var t=new i;return t.replace(this),t}},function(){var t=[];return t.push.apply(t,arguments),y.extend(t,e),t});D.prototype={constructor:D,_process_options:function(t){this._o=y.extend({},this._o,t);var e=this.o=y.extend({},this._o),t=e.language;switch(C[t]||(t=t.split("-")[0],C[t]||(t=h.language)),e.language=t,e.startView){case 2:case"decade":e.startView=2;break;case 1:case"year":e.startView=1;break;default:e.startView=0}switch(e.minViewMode){case 1:case"months":e.minViewMode=1;break;case 2:case"years":e.minViewMode=2;break;default:e.minViewMode=0}e.startView=Math.max(e.startView,e.minViewMode),!0!==e.multidate&&(e.multidate=Number(e.multidate)||!1,!1!==e.multidate?e.multidate=Math.max(0,e.multidate):e.multidate=1),e.multidateSeparator=String(e.multidateSeparator),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;t=k.parseFormat(e.format);e.startDate!==-1/0&&(e.startDate?e.startDate instanceof Date?e.startDate=this._local_to_utc(this._zero_time(e.startDate)):e.startDate=k.parseDate(e.startDate,t,e.language):e.startDate=-1/0),e.endDate!==1/0&&(e.endDate?e.endDate instanceof Date?e.endDate=this._local_to_utc(this._zero_time(e.endDate)):e.endDate=k.parseDate(e.endDate,t,e.language):e.endDate=1/0),e.daysOfWeekDisabled=e.daysOfWeekDisabled||[],y.isArray(e.daysOfWeekDisabled)||(e.daysOfWeekDisabled=e.daysOfWeekDisabled.split(/[,\s]*/)),e.daysOfWeekDisabled=y.map(e.daysOfWeekDisabled,function(t){return parseInt(t,10)});var i=String(e.orientation).toLowerCase().split(/\s+/g),t=e.orientation.toLowerCase(),i=y.grep(i,function(t){return/^auto|left|right|top|bottom$/.test(t)});if(e.orientation={x:"auto",y:"auto"},t&&"auto"!==t)if(1===i.length)switch(i[0]){case"top":case"bottom":e.orientation.y=i[0];break;case"left":case"right":e.orientation.x=i[0]}else t=y.grep(i,function(t){return/^left|right$/.test(t)}),e.orientation.x=t[0]||"auto",t=y.grep(i,function(t){return/^top|bottom$/.test(t)}),e.orientation.y=t[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,i,n,s=0;s<t.length;s++)e=t[s][0],2===t[s].length?(i=b,n=t[s][1]):3===t[s].length&&(i=t[s][1],n=t[s][2]),e.on(n,i)},_unapplyEvents:function(t){for(var e,i,n,s=0;s<t.length;s++)e=t[s][0],2===t[s].length?(n=b,i=t[s][1]):3===t[s].length&&(n=t[s][1],i=t[s][2]),e.off(i,n)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:y.proxy(this.show,this),keyup:y.proxy(function(t){-1===y.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:y.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:y.proxy(this.show,this),keyup:y.proxy(function(t){-1===y.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:y.proxy(this.keydown,this)}],[this.component,{click:y.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:y.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:y.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:y.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:y.proxy(this.click,this)}],[y(window),{resize:y.proxy(this.place,this)}],[y(document),{"mousedown touchstart":y.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,e){e=e||this.dates.get(-1),e=this._utc_to_local(e);this.element.trigger({type:t,date:e,dates:y.map(this.dates,this._utc_to_local),format:y.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return k.formatDate(i,e,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return y.map(this.dates,this._utc_to_local)},getUTCDates:function(){return y.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var t=y.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var t=y.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,y.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:t("setDates"),setUTCDate:t("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(e){e===b&&(e=this.o.format);var i=this.o.language;return y.map(this.dates,function(t){return k.formatDate(t,e,i)}).join(this.o.multidateSeparator)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){var t,e,i,n,s,o,a,r,l,h,d;this.isInline||(h=this.picker.outerWidth(),t=this.picker.outerHeight(),l=c.width(),e=c.height(),i=c.scrollTop(),n=parseInt(this.element.parents().filter(function(){return"auto"!==y(this).css("z-index")}).first().css("z-index"))+10,d=(this.component?this.component.parent():this.element).offset(),s=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),o=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),a=d.left,r=d.top,this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(a-=h-o)):(this.picker.addClass("datepicker-orient-left"),d.left<0?a-=d.left-10:d.left+h>l&&(a=l-h-10)),"auto"===(l=this.o.orientation.y)&&(h=-i+d.top-t,d=i+e-(d.top+s+t),l=Math.max(h,d)===d?"top":"bottom"),this.picker.addClass("datepicker-orient-"+l),"top"===l?r+=s:r-=t+parseInt(this.picker.css("padding-top")),this.picker.css({top:r,left:a,zIndex:n}))},_allow_update:!0,update:function(){var t,i,e;this._allow_update&&(t=this.dates.copy(),e=!(i=[]),arguments.length?(y.each(arguments,y.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),e=!0):(i=(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val())&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=y.map(i,y.proxy(function(t){return k.parseDate(t,this.o.format,this.o.language)},this)),i=y.grep(i,y.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),e?this.setValue():i.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill())},fillDow:function(){var t,e=this.o.weekStart,i="<tr>";for(this.o.calendarWeeks&&(i+=t='<th class="cw">&nbsp;</th>',this.picker.find(".datepicker-days thead tr:first-child").prepend(t));e<this.o.weekStart+7;)i+='<th class="dow">'+C[this.o.language].daysMin[e++%7]+"</th>";i+="</tr>",this.picker.find(".datepicker-days thead").append(i)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+C[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(t){t&&t.length?this.range=y.map(t,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var e=[],i=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),s=new Date;return t.getUTCFullYear()<i||t.getUTCFullYear()===i&&t.getUTCMonth()<n?e.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()===i&&t.getUTCMonth()>n)&&e.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&e.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===s.getFullYear()&&t.getUTCMonth()===s.getMonth()&&t.getUTCDate()===s.getDate()&&e.push("today"),-1!==this.dates.contains(t)&&e.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==y.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&e.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&e.push("range"),-1!==y.inArray(t.valueOf(),this.range)&&e.push("selected")),e},fill:function(){var t,e=new Date(this.viewDate),i=e.getUTCFullYear(),n=e.getUTCMonth(),s=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,o=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,a=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,r=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,l=C[this.o.language].today||C.en.today||"",e=C[this.o.language].clear||C.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(C[this.o.language].months[n]+" "+i),this.picker.find("tfoot th.today").text(l).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot th.clear").text(e).toggle(!1!==this.o.clearBtn),this.updateNavArrows(),this.fillMonths();var h=w(i,n-1,28),n=k.getDaysInMonth(h.getUTCFullYear(),h.getUTCMonth());h.setUTCDate(n),h.setUTCDate(n-(h.getUTCDay()-this.o.weekStart+7)%7);var d=new Date(h);d.setUTCDate(d.getUTCDate()+42),d=d.valueOf();for(var c,u,p=[];h.valueOf()<d;)h.getUTCDay()===this.o.weekStart&&(p.push("<tr>"),this.o.calendarWeeks&&(c=new Date(+h+(this.o.weekStart-h.getUTCDay()-7)%7*864e5),u=new Date(Number(c)+(11-c.getUTCDay())%7*864e5),c=new Date(Number(c=w(u.getUTCFullYear(),0,1))+(11-c.getUTCDay())%7*864e5),u=(u-c)/864e5/7+1,p.push('<td class="cw">'+u+"</td>"))),(c=this.getClassNames(h)).push("day"),this.o.beforeShowDay!==y.noop&&((u=this.o.beforeShowDay(this._utc_to_local(h)))===b?u={}:"boolean"==typeof u?u={enabled:u}:"string"==typeof u&&(u={classes:u}),!1===u.enabled&&c.push("disabled"),u.classes&&(c=c.concat(u.classes.split(/\s+/))),u.tooltip&&(t=u.tooltip)),c=y.unique(c),p.push('<td class="'+c.join(" ")+'"'+(t?' title="'+t+'"':"")+">"+h.getUTCDate()+"</td>"),h.getUTCDay()===this.o.weekEnd&&p.push("</tr>"),h.setUTCDate(h.getUTCDate()+1);this.picker.find(".datepicker-days tbody").empty().append(p.join(""));var f=this.picker.find(".datepicker-months").find("th:eq(1)").text(i).end().find("span").removeClass("active");y.each(this.dates,function(t,e){e.getUTCFullYear()===i&&f.eq(e.getUTCMonth()).addClass("active")}),(i<s||a<i)&&f.addClass("disabled"),i===s&&f.slice(0,o).addClass("disabled"),i===a&&f.slice(r+1).addClass("disabled"),p="",i=10*parseInt(i/10,10);r=this.picker.find(".datepicker-years").find("th:eq(1)").text(i+"-"+(i+9)).end().find("td");--i;for(var g,m=y.map(this.dates,function(t){return t.getUTCFullYear()}),v=-1;v<11;v++)g=["year"],-1===v?g.push("old"):10===v&&g.push("new"),-1!==y.inArray(i,m)&&g.push("active"),(i<s||a<i)&&g.push("disabled"),p+='<span class="'+g.join(" ")+'">'+i+"</span>",i+=1;r.html(p)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){t.preventDefault();var e,i,n,s,o=y(t.target).closest("span, td, th");if(1===o.length)switch(o[0].nodeName.toLowerCase()){case"th":switch(o[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var a=k.modes[this.viewMode].navStep*("prev"===o[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,a),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,a),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var r=w((r=new Date).getFullYear(),r.getMonth(),r.getDate(),0,0,0);this.showMode(-2);var l="linked"===this.o.todayBtn?null:"view";this._setDate(r,l);break;case"clear":this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":o.is(".disabled")||(this.viewDate.setUTCDate(1),o.is(".month")?(n=1,i=o.parent().find("span").index(o),e=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(i),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(w(e,i,n))):(n=1,i=0,e=parseInt(o.text(),10)||0,this.viewDate.setUTCFullYear(e),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(w(e,i,n))),this.showMode(-1),this.fill());break;case"td":o.is(".day")&&!o.is(".disabled")&&(n=parseInt(o.text(),10)||1,e=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),o.is(".old")?0===i?(i=11,--e):--i:o.is(".new")&&(11===i?(i=0,e+=1):i+=1),this._setDate(w(e,i,n)))}this.picker.is(":visible")&&this._focused_from&&y(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t?-1!==e?this.dates.remove(e):this.dates.push(t):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){var i;e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate"),this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,e){if(!t)return b;if(!e)return t;var i,n,s=new Date(t.valueOf()),o=s.getUTCDate(),a=s.getUTCMonth(),r=Math.abs(e);if(e=0<e?1:-1,1===r)n=-1===e?function(){return s.getUTCMonth()===a}:function(){return s.getUTCMonth()!==i},i=a+e,s.setUTCMonth(i),(i<0||11<i)&&(i=(i+12)%12);else{for(var l=0;l<r;l++)s=this.moveMonth(s,e);i=s.getUTCMonth(),s.setUTCDate(o),n=function(){return i!==s.getUTCMonth()}}for(;n();)s.setUTCDate(--o),s.setUTCMonth(i);return s},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))27===t.keyCode&&this.show();else{var e,i,n,s,o=!1,a=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||r(),e),n=this.moveYear(a,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||r(),e),n=this.moveMonth(a,e),this._trigger("changeMonth",this.viewDate)):((i=new Date(this.dates.get(-1)||r())).setUTCDate(i.getUTCDate()+e),(n=new Date(a)).setUTCDate(a.getUTCDate()+e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||r(),e),n=this.moveYear(a,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||r(),e),n=this.moveMonth(a,e),this._trigger("changeMonth",this.viewDate)):((i=new Date(this.dates.get(-1)||r())).setUTCDate(i.getUTCDate()+7*e),(n=new Date(a)).setUTCDate(a.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:a=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(a),o=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}o&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.change())}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+k.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};function l(t,e){this.element=y(t),this.inputs=y.map(e.inputs,function(t){return t.jquery?t[0]:t}),delete e.inputs,y(this.inputs).datepicker(e).bind("changeDate",y.proxy(this.dateUpdated,this)),this.pickers=y.map(this.inputs,function(t){return y(t).data("datepicker")}),this.updateDates()}l.prototype={updateDates:function(){this.dates=y.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var i=y.map(this.dates,function(t){return t.valueOf()});y.each(this.pickers,function(t,e){e.setRange(i)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var i=y(t.target).data("datepicker").getUTCDate(),e=y.inArray(t.target,this.inputs),n=this.inputs.length;if(-1!==e){if(y.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(i)}),i<this.dates[e])for(;0<=e&&i<this.dates[e];)this.pickers[e--].setUTCDate(i);else if(i>this.dates[e])for(;e<n&&i>this.dates[e];)this.pickers[e++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){y.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var n=y.fn.datepicker;y.fn.datepicker=function(o){var a,r=Array.apply(null,arguments);return r.shift(),this.each(function(){var t,e,i=y(this),n=i.data("datepicker"),s="object"==typeof o&&o;if(n||(e=function(t,e){var i,n=y(t).data(),s={},o=new RegExp("^"+e.toLowerCase()+"([A-Z])");function a(t,e){return e.toLowerCase()}for(i in e=new RegExp("^"+e.toLowerCase()),n)e.test(i)&&(s[i.replace(o,a)]=n[i]);return s}(this,"date"),t=function(t){var i={};if(C[t]||(t=t.split("-")[0],C[t])){var n=C[t];return y.each(d,function(t,e){e in n&&(i[e]=n[e])}),i}}(y.extend({},h,e,s).language),e=y.extend({},h,t,e,s),i.is(".input-daterange")||e.inputs?(s={inputs:e.inputs||i.find("input").toArray()},i.data("datepicker",n=new l(this,y.extend(e,s)))):i.data("datepicker",n=new D(this,e))),"string"==typeof o&&"function"==typeof n[o]&&(a=n[o].apply(n,r))!==b)return!1}),a!==b?a:this};var h=y.fn.datepicker.defaults={autoclose:!1,beforeShowDay:y.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},d=y.fn.datepicker.locale_opts=["format","rtl","weekStart"];y.fn.datepicker.Constructor=D;var C=y.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},k={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,k.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),t=t.match(this.validParts);if(!e||!e.length||!t||0===t.length)throw new Error("Invalid date format.");return{separators:e,parts:t}},parseDate:function(t,e,i){if(!t)return b;if(t instanceof Date)return t;"string"==typeof e&&(e=k.parseFormat(e));var n,s,o=/([\-+]\d+)([dmwy])/,a=t.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(t)){for(t=new Date,m=0;m<a.length;m++)switch(n=o.exec(a[m]),s=parseInt(n[1]),n[2]){case"d":t.setUTCDate(t.getUTCDate()+s);break;case"m":t=D.prototype.moveMonth.call(D.prototype,t,s);break;case"w":t.setUTCDate(t.getUTCDate()+7*s);break;case"y":t=D.prototype.moveYear.call(D.prototype,t,s)}return w(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0)}a=t&&t.match(this.nonpunctuation)||[],t=new Date;var r,l,h={},d=["yyyy","yy","M","MM","m","mm","d","dd"],c={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(--e;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};c.M=c.MM=c.mm=c.m,c.dd=c.d,t=w(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0);var u=e.parts.slice();function p(){var t=this.slice(0,a[m].length);return t===a[m].slice(0,t.length)}if(a.length!==u.length&&(u=y(u).filter(function(t,e){return-1!==y.inArray(e,d)}).toArray()),a.length===u.length){for(var f,g,m=0,v=u.length;m<v;m++){if(r=parseInt(a[m],10),n=u[m],isNaN(r))switch(n){case"MM":l=y(C[i].months).filter(p),r=y.inArray(l[0],C[i].months)+1;break;case"M":l=y(C[i].monthsShort).filter(p),r=y.inArray(l[0],C[i].monthsShort)+1}h[n]=r}for(m=0;m<d.length;m++)(g=d[m])in h&&!isNaN(h[g])&&(f=new Date(t),c[g](f,h[g]),isNaN(f)||(t=f))}return t},formatDate:function(t,e,i){if(!t)return"";"string"==typeof e&&(e=k.parseFormat(e));var n={d:t.getUTCDate(),D:C[i].daysShort[t.getUTCDay()],DD:C[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:C[i].monthsShort[t.getUTCMonth()],MM:C[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,t=[];for(var s=y.extend([],e.separators),o=0,a=e.parts.length;o<=a;o++)s.length&&t.push(s.shift()),t.push(n[e.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};k.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+k.headTemplate+"<tbody></tbody>"+k.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+k.headTemplate+k.contTemplate+k.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+k.headTemplate+k.contTemplate+k.footTemplate+"</table></div></div>",y.fn.datepicker.DPGlobal=k,y.fn.datepicker.noConflict=function(){return y.fn.datepicker=n,this},y(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var e=y(this);e.data("datepicker")||(t.preventDefault(),e.datepicker("show"))}),y(function(){y('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(a){"use strict";function n(t){this.element=a(t)}function e(i){return this.each(function(){var t=a(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new n(this)),"string"==typeof i&&e[i]()})}n.VERSION="3.2.0",n.prototype.show=function(){var t,e,i=this.element,n=i.closest("ul:not(.dropdown-menu)"),s=(s=i.data("target"))||(s=i.attr("href"))&&s.replace(/.*(?=#[^\s]*$)/,"");i.parent("li").hasClass("active")||(t=n.find(".active:last a")[0],e=a.Event("show.bs.tab",{relatedTarget:t}),i.trigger(e),e.isDefaultPrevented()||(s=a(s),this.activate(i.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"shown.bs.tab",relatedTarget:t})})))},n.prototype.activate=function(t,e,i){var n=e.find("> .active"),s=i&&a.support.transition&&n.hasClass("fade");function o(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}s?n.one("bsTransitionEnd",o).emulateTransitionEnd(150):o(),n.removeClass("in")};var t=a.fn.tab;a.fn.tab=e,a.fn.tab.Constructor=n,a.fn.tab.noConflict=function(){return a.fn.tab=t,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e.call(a(this),"show")})}(jQuery),function(a){"use strict";var s=function(t,e){this.$element=a(t),this.options=a.extend({},s.DEFAULTS,e),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};function r(n){return this.each(function(){var t=a(this),e=t.data("bs.collapse"),i=a.extend({},s.DEFAULTS,t.data(),"object"==typeof n&&n);!e&&i.toggle&&"show"==n&&(i.toggle=!1),e||t.data("bs.collapse",e=new s(this,i)),"string"==typeof n&&e[n]()})}s.VERSION="3.2.0",s.TRANSITION_DURATION=350,s.DEFAULTS={toggle:!0},s.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},s.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=a.Event("show.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){t=this.$parent&&this.$parent.find("> .panel").children(".in, .collapsing");if(t&&t.length){var e=t.data("bs.collapse");if(e&&e.transitioning)return;r.call(t,"hide"),e||t.data("bs.collapse",null)}var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.transitioning=1;e=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return e.call(this);t=a.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(s.TRANSITION_DURATION)[i](this.$element[0][t])}}},s.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=a.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.transitioning=1;t=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return t.call(this);this.$element[e](0).one("bsTransitionEnd",a.proxy(t,this)).emulateTransitionEnd(s.TRANSITION_DURATION)}}},s.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var t=a.fn.collapse;a.fn.collapse=r,a.fn.collapse.Constructor=s,a.fn.collapse.noConflict=function(){return a.fn.collapse=t,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=a(this),i=e.attr("data-target")||t.preventDefault()||(o=e.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""),n=a(i),s=n.data("bs.collapse"),t=s?"toggle":e.data(),o=e.attr("data-parent"),i=o&&a(o);s&&s.transitioning||(i&&i.find('[data-toggle="collapse"][data-parent="'+o+'"]').not(e).addClass("collapsed").attr("aria-expanded",!1),o=n.hasClass("in"),e.toggleClass("collapsed",o).attr("aria-expanded",!o)),r.call(n,t)})}(jQuery),function(h){"use strict";function d(t,e){this.$element=h(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",h.proxy(this.keydown,this)),"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",h.proxy(this.pause,this)).on("mouseleave.bs.carousel",h.proxy(this.cycle,this))}function s(s){return this.each(function(){var t=h(this),e=t.data("bs.carousel"),i=h.extend({},d.DEFAULTS,t.data(),"object"==typeof s&&s),n="string"==typeof s?s:i.slide;e||t.data("bs.carousel",e=new d(this,i)),"number"==typeof s?e.to(s):n?e[n]():i.interval&&e.pause().cycle()})}d.VERSION="3.3.6",d.TRANSITION_DURATION=600,d.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},d.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},d.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(h.proxy(this.next,this),this.options.interval)),this},d.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},d.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;t=(i+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(t)},d.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(i<t?"next":"prev",this.$items.eq(t))},d.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&h.support.transition&&(this.$element.trigger(h.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},d.prototype.next=function(){if(!this.sliding)return this.slide("next")},d.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},d.prototype.slide=function(t,e){var i=this.$element.find(".item.active"),n=e||this.getItemForDirection(t,i),s=this.interval,o="next"==t?"left":"right",a=this;if(n.hasClass("active"))return this.sliding=!1;var r=n[0],e=h.Event("slide.bs.carousel",{relatedTarget:r,direction:o});if(this.$element.trigger(e),!e.isDefaultPrevented()){this.sliding=!0,s&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),(e=h(this.$indicators.children()[this.getItemIndex(n)]))&&e.addClass("active"));var l=h.Event("slid.bs.carousel",{relatedTarget:r,direction:o});return h.support.transition&&this.$element.hasClass("slide")?(n.addClass(t),n[0].offsetWidth,i.addClass(o),n.addClass(o),i.one("bsTransitionEnd",function(){n.removeClass([t,o].join(" ")).addClass("active"),i.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(l)},0)}).emulateTransitionEnd(d.TRANSITION_DURATION)):(i.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger(l)),s&&this.cycle(),this}};var t=h.fn.carousel;h.fn.carousel=s,h.fn.carousel.Constructor=d,h.fn.carousel.noConflict=function(){return h.fn.carousel=t,this};function e(t){var e,i=h(this),n=h(i.attr("data-target")||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));n.hasClass("carousel")&&(e=h.extend({},n.data(),i.data()),(i=i.attr("data-slide-to"))&&(e.interval=!1),s.call(n,e),i&&n.data("bs.carousel").to(i),t.preventDefault())}h(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),h(window).on("load",function(){h('[data-ride="carousel"]').each(function(){var t=h(this);s.call(t,t.data())})})}(jQuery),function(c){"use strict";function s(t,e){this.type=null,this.options=null,this.enabled=null,this.hoverState=null,this.$element=null,this.init("popover",t,e)}s.DEFAULTS={placement:"bottom",template:'<div class="popover"><div class="popover-arrow"></div><div class="popover-inner"><div class="popover-content"></div></div></div>',trigger:"click",title:"",content:"",footer:"",html:!1,container:!1,globalclose:!0,onShown:null,onHidden:null,allowmultiple:!1,existcontainer:!1,closebtn:!1,variant:"default",size:"",cssclass:!1,width:!1},s.prototype.init=function(t,e,i){this.enabled=!0,this.type=t,this.$element=c(e),this.options=this.getOptions(i);for(var n=this.options.trigger.split(" "),s=n.length;s--;){var o,a=n[s];"click"==a?this.$element.on("click."+this.type,c.proxy(this.toggle,this)):"manual"!=a&&(o="hover"==a?"mouseenter":"focusin",a="hover"==a?"mouseleave":"focusout",this.$element.on(o+"."+this.type,c.proxy(this.enter,this)),this.$element.on(a+"."+this.type,c.proxy(this.leave,this)))}this.attr={},this.attr.me=(10*Math.random()+"").replace(/\D/g,""),this.attr.click_event_ns="click."+this.attr.me+" touchstart."+this.attr.me},s.prototype.getDefaults=function(){return s.DEFAULTS},s.prototype.getOptions=function(t){return t=c.extend({},this.getDefaults(),this.$element.data(),t)},s.prototype.enter=function(t){t=c(t.currentTarget)[this.type]().data("fs."+this.type);return t.hoverState="in",t.show()},s.prototype.leave=function(t){t=c(t.currentTarget)[this.type]().data("fs."+this.type);return t.hoverState="out",t.hide()},s.prototype.show=function(){var t,e,i,n,s,o,a,r,l,h,d=c.Event("show.fs."+this.type);this.enabled&&this.hasContent()&&(this.$element.trigger(d),d.isDefaultPrevented()||(a=this.options,(t=this.popover()).removeClass("fade in top bottom left right"),a.width&&t.css({"max-width":a.width}),this.options.minWidth&&t.css({"min-width":this.options.minWidth}),a.cssclass&&t.addClass(a.cssclass),a.variant&&t.addClass("popover-"+a.variant),a.size&&t.addClass("popover-"+a.size),l="function"==typeof a.placement?a.placement.call(this,t[0],this.$element[0]):a.placement,(o=/\s?auto?\s?/i.test(l))&&(l="top"),a.existcontainer||t.detach(),t.css({top:0,left:0,display:"block"}).addClass(l),a.existcontainer||(a.container?t.appendTo(a.container):t.insertAfter(this.$element)),e=this.getPosition(),i=t[0].offsetWidth,h=t[0].offsetHeight,o&&(r=this.$element.parent(),n=l,s=document.documentElement.scrollTop||document.body.scrollTop,o=(d="body"==a.container)?window.innerWidth:r.outerWidth(),a=d?window.innerHeight:r.outerHeight(),r=d?0:r.offset().left,l="bottom"==l&&e.top+e.height+h-s>a?"top":"top"==l&&e.top-s-h<0?"bottom":"right"==l&&e.right+i>o?"left":"left"==l&&e.left-i<r?"right":l,t.removeClass(n).addClass(l)),h=this.getCalculatedOffset(l,e,i,h),this.applyPlacement(h,l),this.hoverState=null,this.$element.trigger("shown.fs."+this.type)))},s.prototype.applyPlacement=function(t,e){var i,n=this.popover(),s=n[0].offsetWidth,o=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),r=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),t.top=t.top+a,t.left=t.left+r,c.offset.setOffset(n[0],c.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");a=n[0].offsetWidth,r=n[0].offsetHeight;"top"==e&&r!=o&&(i=!0,t.top=t.top+o-r),/bottom|top/.test(e)?(e=0,t.left<0&&(e=-2*t.left,t.left=0,n.offset(t),a=n[0].offsetWidth,r=n[0].offsetHeight),this.replaceArrow(e-s+a,a,"left")):this.replaceArrow(r-o,r,"top"),i&&n.offset(t)},s.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},s.prototype.hide=function(){var t=this.popover(),e=c.Event("hide.fs."+this.type);if(this.$element.trigger(e),!e.isDefaultPrevented())return t.removeClass("in").css({display:"none"}),"in"==this.hoverState||this.options.existcontainer||t.detach(),this.$element.trigger("hidden.fs."+this.type),this.hoverState=null,this},s.prototype.getPosition=function(){var t=this.$element[0];return c.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},s.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:"right"==t?{top:e.top+e.height/2-n/2,left:e.left+e.width}:{top:e.top+e.height,left:e.left}},s.prototype.hasContent=function(){var t=this.options;return!!(t.existcontainer||t.content||t.title||t.footer)},s.prototype.popover=function(){var t,e,i;return this.$popover||(this.options.existcontainer?this.$popover=c(this.options.existcontainer):(t=c(this.options.template),e=this.options.html?"html":"text",(this.options.title||this.options.closeBtn)&&(i=t.find(".popover-header")||c('<div class="popover-header"></div>').prependTo(t),this.options.title&&(t.find("popover-title")||c('<div class="popover-title"></div>').appendTo(i))[e](this.options.title),this.options.closeBtn&&c('<a class="popover-close close" data-dismiss="popover"></a>').appendTo(i)),this.options.content&&t.find(".popover-content")[e](this.options.content),this.options.footer&&(t.find(".popover-footer")||c('<div class="popover-footer"></div>').appendTo(t))[e](this.options.footer),this.$popover=t)),this.$popover},s.prototype.arrow=function(){return this.$arrow=this.$arrow||this.popover().find(".popover-arrow")},s.prototype.isShown=function(){return this.popover().hasClass("in")},s.prototype.toggle=function(t){var e,i;t&&(t.preventDefault(),t.stopPropagation()),this[this.isShown()?"hide":"show"](),this.isShown()?(i=function(t){e.popover().has(t.target).length||(c("body").off(e.attr.click_event_ns,i),e.toggle())},(e=this).options.globalclose&&c("body").on(this.attr.click_event_ns,i),this.options.allowmultiple||c("[data-popover-open=1]").each(function(){var t=c(this).data("fs.popover");t&&t!==e&&t.toggle()}),this.$element.attr("data-popover-open",1),this.popover().on("click",'[data-dismiss="popover"]',c.proxy(this.toggle,this)),"function"==typeof this.options.onShown&&this.options.onShown.call(this),this.$element.trigger("shown")):(this.$element.removeAttr("data-popover-open"),c("body").off(this.attr.click_event_ns),this.popover().off("click",'[data-dismiss="popover"]',c.proxy(this.toggle,this)),"function"==typeof this.options.onHidden&&this.options.onHidden.call(this),this.$element.trigger("hidden"))},s.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("fs."+this.type)};var t=c.fn.popover;c.fn.popover=function(n){return this.each(function(){var t=c(this),e=t.data("fs.popover"),i="object"==typeof n&&n;!e&&"destroy"==n||(e||t.data("fs.popover",e=new s(this,i)),"string"==typeof n&&e[n]())})},c.fn.popover.Constructor=s,c.fn.popover.noConflict=function(){return c.fn.popover=t,this}}(jQuery),function(a){"use strict";function o(t,e){this.namespace=null,this.options=null,this.$element=null,this.$target=null,this.showTriggers=null,this.hideTriggers=null,this.prevValue=null,this.init(".fs.edit-in-place",t,e)}function t(t,e){for(var i in e)t.on(i,e[i])}function e(t,e){for(var i in e)t.off(i,e[i])}o.DEFAULTS={targetSelector:".form-control",triggerShow:"focus",triggerHide:"clickoutside",openedClass:"opened",hideOnSaved:!0,hideOnReset:!0},o.prototype.init=function(t,e,i){this.namespace=t,this.$element=a(e),this.options=this.getOptions(i),this.$target=this.$element.find(this.options.targetSelector),this.prevValue=this.$target.val(),this.showTriggers={},this.hideTriggers={};var n,s=this.options.triggerShow.split(" "),o=this.options.triggerHide.split(" ");for(n in s)this.showTriggers[s[n]]=a.proxy(this.show,this);for(n in o)this.hideTriggers[o[n]]=a.proxy(this.hide,this);this.toggleTriggers(),this.setActionTriggers()},o.prototype.getOptions=function(t){return a.extend({},o.DEFAULTS,this.$element.data(),t)},o.prototype.toggleTriggers=function(){this.isOpened()?(t(this.$element,this.hideTriggers),e(this.$target,this.showTriggers)):(t(this.$target,this.showTriggers),e(this.$element,this.hideTriggers))},o.prototype.setActionTriggers=function(){t(this.$element.find("[data-action]"),{click:a.proxy(this.actionEvent,this)})},o.prototype.isOpened=function(){return this.$element.hasClass(this.options.openedClass)},o.prototype.actionEvent=function(t){var e=a(t.currentTarget),i=e.data("action"),e=e.data("event-prevent-default");!e&&void 0!==e||(t.preventDefault(),t.stopPropagation());t=a.Event(i+this.namespace);this.$element.trigger(t),t.isDefaultPrevented()||"function"==typeof this[i]&&this[i]()},o.prototype.show=function(){var t=a.Event("show"+this.namespace);if(this.$element.trigger(t),!this.isOpened()&&!t.isDefaultPrevented())return this.$element.addClass(this.options.openedClass),this.toggleTriggers(),this.$element.trigger("shown"+this.namespace),this},o.prototype.hide=function(){var t=a.Event("hide"+this.namespace);if(this.$element.trigger(t),this.isOpened()&&!t.isDefaultPrevented())return this.$element.removeClass(this.options.openedClass),this.toggleTriggers(),this.$element.trigger("hidden"+this.namespace),this},o.prototype.toggle=function(t){var e=this.isOpened();return void 0===t&&(t=!e),t!==e&&this.$element.toggleClass(this.options.openedClass,t),this},o.prototype.save=function(){return this.prevValue=this.$target.val(),this.options.hideOnSaved&&this.hide(),this},o.prototype.reset=function(){return this.$target.val(this.prevValue),this.options.hideOnReset&&this.hide(),this},o.prototype.focus=function(){return this.$target.focus(),this},o.prototype.getValue=function(){return this.$target.val()},o.prototype.setValue=function(t){this.prevValue=t,this.$target.val(t)},a.fn.editInPlace=function(n,s){return this.each(function(){var t=a(this),e=t.data("fs.edit-in-place"),i="object"==typeof n&&n;e||t.data("fs.edit-in-place",e=new o(this,i)),"string"==typeof n&&"function"==typeof e[n]&&e[n].apply(e,s)})},a(document).ready(function(){a(".form-edit-in-place").editInPlace()})}(jQuery),function(o){"use strict";function a(t,e){this.namespace=null,this.options=null,this.$element=null,this.init(".fs.scroll-to",t,e)}a.prototype={init:function(t,e,i){this.namespace=t,this.$element=o(e),this.options=this.getOptions(i),this.$element.on("click"+this.namespace,o.proxy(this.onClick,this))},getOptions:function(t){return o.extend({},this.DEFAULTS,this.$element.data(),t)},getAnimationDuration:function(){var t,e=this.options.time;if(e in this.ANIMATION_DURATIONS)return this.ANIMATION_DURATIONS[e];if("number"==typeof e||"string"==typeof e&&!isNaN(e))return+e;if("string"==typeof e&&(t=e.match(/^([\d+\.])(m?s)/)))switch(t[1]){case"ms":return+t[0];case"s":return 1e3*t[0]}return this.ANIMATION_DURATIONS.default},onClick:function(t){t.preventDefault();t=o(this.options.target||o(t.currentTarget).attr("href"));t.length&&o("html,body").animate({scrollTop:t.offset().top-this.options.gap},this.getAnimationDuration(),this.options.easing)}};var t=o.fn.scrollTo=function(n,s){return this.each(function(){var t=o(this),e=t.data("fs.scroll-to"),i="object"==typeof n&&n;e||t.data("fs.scroll-to",e=new a(this,i)),"string"==typeof n&&"function"==typeof e[n]&&e[n].apply(e,s)})};a.prototype.ANIMATION_DURATIONS={fast:200,default:400,slow:600},t.DEFAULTS=a.prototype.DEFAULTS={time:"default",easing:"swing",target:null,gap:0},o(document).ready(function(){o(".-js-scroll-to").scrollTo()})}(jQuery),jQuery.fn.datepicker.dates.ru={days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],daysShort:["Вск","Пнд","Втр","Срд","Чтв","Птн","Суб","Вск"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб","Вс"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",weekStart:1},function(e){"undefined"!=typeof Backbone||"undefined"!=typeof exports?e(Backbone):"function"==typeof define&&define.amd&&define(["backbone"],function(t){e(Backbone)})}(function(s){var r=s.Model,l=s.Collection;s.Model.prototype.setRelation=function(t,n,e){var i=this.attributes[t],s=this.idAttribute||"id",o=[],a=[];if(e.unset&&i&&delete i.parent,this.relations&&_.has(this.relations,t)){if(i&&i instanceof l)return n instanceof l||n instanceof Array?(n=n.models||n,o=_.clone(n),i.each(function(e,t){var i;void 0!==e[s]&&((i=_.find(n,function(t){return t[s]===e[s]}))?(e.set(i.toJSON?i.toJSON():i),o.splice(t,1)):a.push(e))}),_.each(a,function(t){i.remove(t)}),i.add(o)):i.each(function(t){n[s]===t[s]?t.set(n):i.remove(t)}),i;if(n instanceof r&&(n=n.toJSON()),i&&i instanceof r)return i.set(n),i;e._parent=this,(n=new this.relations[t](n,e)).parent=this}return n},s.Model.prototype.set=function(t,e,i){var n,s,o,a,r,l,h;if(null==t)return this;if("object"==typeof t?(s=t,i=e):(s={})[t]=e,i=i||{},!this._validate(s,i))return!1;for(n in o=i.unset,r=i.silent,a=[],t=this._changing,this._changing=!0,t||(this._previousAttributes=_.clone(this.attributes),this.changed={}),h=this.attributes,l=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]),s)e=s[n],e=this.setRelation(n,e,i),_.isEqual(h[n],e)||a.push(n),_.isEqual(l[n],e)?delete this.changed[n]:this.changed[n]=e,o?delete h[n]:h[n]=e;if(!r){a.length&&(this._pending=!0);for(var d=0,c=a.length;d<c;d++)this.trigger("change:"+a[d],this,h[a[d]],i)}if(t)return this;if(!r)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},s.Model.prototype.toJSON=function(t){var i=_.clone(this.attributes);return _.each(this.relations,function(t,e){_.has(i,e)?i[e]=i[e].toJSON():i[e]=(new t).toJSON()}),i},s.Model.prototype.clone=function(t){return new this.constructor(this.toJSON())},s.Collection.prototype.resetRelations=function(n){_.each(this.models,function(i){_.each(i.relations,function(t,e){i.get(e)instanceof s.Collection&&i.get(e).trigger("reset",i,n)})})},s.Collection.prototype.reset=function(t,e){e=e||{};for(var i=0,n=this.models.length;i<n;i++)this._removeReference(this.models[i]);return e.previousModels=this.models,this._reset(),this.add(t,_.extend({silent:!0},e)),e.silent||(this.trigger("reset",this,e),this.resetRelations(e)),this}}),Backbone.Validation=function(m){"use strict";var s={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},r={formatLabel:function(t,e){return i[s.labelFormatter](t,e)},format:function(){var i=Array.prototype.slice.call(arguments);return i.shift().replace(/\{(\d+)\}/g,function(t,e){return void 0!==i[e]?i[e]:t})}},v=function(e,n,s){return n=n||{},s=s||"",m.each(e,function(t,i){e.hasOwnProperty(i)&&(t&&m.isArray(t)?m.forEach(t,function(t,e){v(t,n,s+i+"."+e+"."),n[s+i+"."+e]=t}):t&&"object"==typeof t&&t.constructor===Object&&v(t,n,s+i+"."),n[s+i]=t)}),n},t={version:"0.11.3",configure:function(t){m.extend(s,t)},bind:function(e,i){var t=(i=m.extend({},s,d,i)).model||e.model,n=i.collection||e.collection;if(void 0===t&&void 0===n)throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";t?o(e,t,i):n&&(n.each(function(t){o(e,t,i)}),n.bind("add",l,{view:e,options:i}),n.bind("remove",h))},unbind:function(e,t){var i=(t=m.extend({},t)).model||e.model,t=t.collection||e.collection;i?a(i,e):t&&(t.each(function(t){a(t,e)}),t.unbind("add",l),t.unbind("remove",h))},mixin:n(null,s)};function y(t,e){if(t=t.attributes,m.isFunction(t)?t=t(e):m.isString(t)&&m.isFunction(p[t])&&(t=p[t](e)),m.isArray(t))return t}function b(n,s,o,a){return m.reduce(function(t,e){e=t.validation&&m.result(t,"validation")[e]||{};return(m.isFunction(e)||m.isString(e))&&(e={fn:e}),m.isArray(e)||(e=[e]),m.reduce(e,function(e,i){return m.each(m.without(m.keys(i),"msg"),function(t){e.push({fn:f[t],val:i[t],msg:i.msg})}),e},[])}(n,s),function(t,e){var i=m.extend({},r,f),i=e.fn.call(i,o,s,e.val,n,a);return!1!==i&&!1!==t&&(i&&!t?m.result(e,"msg")||i:t)},"")}function n(f,g){return{preValidate:function(t,e){var i,n=this,s={};return m.isObject(t)?(m.each(t,function(t,e){(i=n.preValidate(e,t))&&(s[e]=i)}),m.isEmpty(s)?void 0:s):b(this,t,e,m.extend({},this.attributes))},isValid:function(t){var i,n,s,o;return t=t||y(g,f),m.isString(t)?n=[t]:m.isArray(t)&&(n=t),n&&(i=v(this.attributes),m.each(this.associatedViews,function(e){m.each(n,function(t){(s=b(this,t,i[t],m.extend({},this.attributes)))?(g.invalid(e,t,s,g.selector),(o=o||{})[t]=s):g.valid(e,t,g.selector)},this)},this)),!0===t&&(o=this.validate()),o&&this.trigger("invalid",this,o,{validationError:o}),n?!o:!this.validation||this._isValid},validate:function(t,e){var i,n,s,o,a,r,l=this,h=!t,d=m.extend({},g,e),c=(r=l,e=(e=y(g,f))||m.keys(m.result(r,"validation")||{}),m.reduce(e,function(t,e){return t[e]=void 0,t},{})),r=m.extend({},c,l.attributes,t),e=v(r),u=t?v(t):e,p=(i=l,r=r,e=m.pick(e,m.keys(c)),s={},o=!0,a=m.clone(r),m.each(e,function(t,e){(n=b(i,e,t,a))&&(s[e]=n,o=!1)}),{invalidAttrs:s,isValid:o});if(l._isValid=p.isValid,m.each(l.associatedViews,function(s){m.each(c,function(t,e){var i=p.invalidAttrs.hasOwnProperty(e),n=u.hasOwnProperty(e);i||d.valid(s,e,d.selector),i&&(n||h)&&d.invalid(s,e,p.invalidAttrs[e],d.selector)})}),m.defer(function(){l.trigger("validated",l._isValid,l,p.invalidAttrs),l.trigger("validated:"+(l._isValid?"valid":"invalid"),l,p.invalidAttrs)}),!d.forceUpdate&&0<m.intersection(m.keys(p.invalidAttrs),m.keys(u)).length)return p.invalidAttrs}}}function o(t,e,i){e.associatedViews?e.associatedViews.push(t):e.associatedViews=[t],m.extend(e,n(t,i))}function a(t,e){e&&t.associatedViews&&1<t.associatedViews.length?t.associatedViews=m.without(t.associatedViews,e):(delete t.validate,delete t.preValidate,delete t.isValid,delete t.associatedViews)}function l(t){o(this.view,t,this.options)}function h(t){a(t)}var e,d=t.callbacks={valid:function(t,e,i){t.$("["+i+'~="'+e+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(t,e,i,n){t.$("["+n+'~="'+e+'"]').addClass("invalid").attr("data-error",i)}},c=t.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},u=t.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",digits:"{0} must only contain digits",number:"{0} must be a number",email:"{0} must be a valid email",url:"{0} must be a valid url",inlinePattern:"{0} is invalid"},i=t.labelFormatters={none:function(t){return t},sentenceCase:function(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,function(t,e){return 0===e?t.toUpperCase():" "+t.toLowerCase()}).replace(/_/g," ")},label:function(t,e){return e.labels&&e.labels[t]||i.sentenceCase(t,e)}},p=t.attributeLoaders={inputNames:function(t){var e=[];return t&&t.$("form [name]").each(function(){/^(?:input|select|textarea)$/i.test(this.nodeName)&&this.name&&"submit"!==this.type&&-1===e.indexOf(this.name)&&e.push(this.name)}),e}},f=t.validators=(e=String.prototype.trim?function(t){return null===t?"":String.prototype.trim.call(t)}:function(t){return null===t?"":t.toString().replace(/^\s+/,"").replace(/\s+$/,"")},{fn:function(t,e,i,n,s){return m.isString(i)&&(i=n[i]),i.call(n,t,e,s)},required:function(t,e,i,n,s){i=m.isFunction(i)?i.call(n,t,e,s):i;return!(!i&&!w(t))&&(i&&!w(t)?this.format(u.required,this.formatLabel(e,n)):void 0)},acceptance:function(t,e,i,n){if("true"!==t&&(!m.isBoolean(t)||!1===t))return this.format(u.acceptance,this.formatLabel(e,n))},min:function(t,e,i,n){if(!g(t)||t<i)return this.format(u.min,this.formatLabel(e,n),i)},max:function(t,e,i,n){if(!g(t)||i<t)return this.format(u.max,this.formatLabel(e,n),i)},range:function(t,e,i,n){if(!g(t)||t<i[0]||t>i[1])return this.format(u.range,this.formatLabel(e,n),i[0],i[1])},length:function(t,e,i,n){if(!m.isString(t)||t.length!==i)return this.format(u.length,this.formatLabel(e,n),i)},minLength:function(t,e,i,n){if(!m.isString(t)||t.length<i)return this.format(u.minLength,this.formatLabel(e,n),i)},maxLength:function(t,e,i,n){if(!m.isString(t)||t.length>i)return this.format(u.maxLength,this.formatLabel(e,n),i)},rangeLength:function(t,e,i,n){if(!m.isString(t)||t.length<i[0]||t.length>i[1])return this.format(u.rangeLength,this.formatLabel(e,n),i[0],i[1])},oneOf:function(t,e,i,n){if(!m.include(i,t))return this.format(u.oneOf,this.formatLabel(e,n),i.join(", "))},equalTo:function(t,e,i,n,s){if(t!==s[i])return this.format(u.equalTo,this.formatLabel(e,n),this.formatLabel(i,n))},pattern:function(t,e,i,n){if(!w(t)||!t.toString().match(c[i]||i))return this.format(u[i]||u.inlinePattern,this.formatLabel(e,n),i)}});function g(t){return m.isNumber(t)||m.isString(t)&&t.match(c.number)}function w(t){return!(m.isNull(t)||m.isUndefined(t)||m.isString(t)&&""===e(t)||m.isArray(t)&&m.isEmpty(t))}return m.each(f,function(t,e){f[e]=m.bind(f[e],m.extend({},r,f))}),t}(_);