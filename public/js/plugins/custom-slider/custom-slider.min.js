"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(i){var n=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(i);return _possibleConstructorReturn(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}var SwipeStrategy=function(){function e(t){_classCallCheck(this,e),this.slider=t}return _createClass(e,[{key:"swipe",value:function(){}}]),e}(),SwipePrevStrategy=function(){_inherits(e,SwipeStrategy);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"swipe",value:function(){var t=this.slider,e=t.ui.content.scrollLeft();if(0<e){for(var i=t.ui.items,n=t.currentOffsetItem>=t.offsetItem?t.offsetItem:t.currentOffsetItem,s=0,r=1;r<=n;r++)s+=i[t.currentOffsetItem-r].offsetWidth;t.currentOffsetItem-=n,t.ui.content.animate({scrollLeft:e-s},t.timeAnimation,function(){t.lockMultiClick=!1})}}}]),e}(),SwipeNextStrategy=function(){_inherits(e,SwipeStrategy);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"swipe",value:function(){var t=this.slider,e=t.ui.content.scrollLeft();if(e<t.maxOffset){for(var i=t.ui.items,n=t.currentOffsetItem-(i.length-1)>=t.offsetItem?t.currentOffsetItem:t.offsetItem,s=0,r=0;r<n;r++)s+=i[t.currentOffsetItem+r].offsetWidth;t.currentOffsetItem+=n,t.ui.content.animate({scrollLeft:e+s},t.timeAnimation,function(){t.lockMultiClick=!1})}}}]),e}(),CustomSlider=function(){function t(){_classCallCheck(this,t),this.el=".-js-custom-slider",this.className={hiddenButton:"custom-slider__control-button_type_hidden"},this.ui={buttons:".-js-custom-slider__button",content:".-js-custom-slider__content",items:".-js-custom-slider__item"},this.events={"click@buttons":"onClickControlButtons","scroll@content":"onScrollContent"},this.currentOffsetItem=0,this.offsetItem=3,this.maxOffset=0,this.timeAnimation=500,this.lockMultiClick=!1}return _createClass(t,[{key:"start",value:function(){for(var t in this.$el=$(this.el),this.ui)if("object"===_typeof(this.ui[t]))for(var e in this.ui[t])this.ui[t][e]=this.$el.find(this.ui[t][e]);else this.ui[t]=this.$el.find(this.ui[t]);for(var i in this.events){var n=i.split("@"),s=n[0],n=n[1];this.ui[n].on(s,this[this.events[i]].bind(this))}this.ui.content.scrollLeft(0),this.ui.buttons.filter('[data-direction="prev"]').addClass(this.className.hiddenButton);var r=0,o=this.ui.content.width();this.ui.items.length&&(this.ui.items.map(function(t,e){r+=e.offsetWidth}.bind(this)),this.maxOffset=r-o),this.maxOffset<=0&&this.ui.buttons.filter('[data-direction="next"]').addClass(this.className.hiddenButton)}},{key:"onClickControlButtons",value:function(t){if(0==this.lockMultiClick){this.lockMultiClick=!0;switch($(t.currentTarget).data("direction")){case"next":new SwipeNextStrategy(this).swipe();break;case"prev":new SwipePrevStrategy(this).swipe()}}}},{key:"onScrollContent",value:function(){var t=this.ui.content.scrollLeft(),e=this.ui.buttons,i=e.filter('[data-direction="next"]'),e=e.filter('[data-direction="prev"]');t>=this.maxOffset?i.addClass(this.className.hiddenButton):i.removeClass(this.className.hiddenButton),t<=0?e.addClass(this.className.hiddenButton):e.removeClass(this.className.hiddenButton)}}]),t}();